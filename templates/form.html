{% extends "layout.html" %}
{% block title %}
<title>Sequence Variation Server</title>
{% endblock title %}
{% block body %}
<form action="{{ url }}" method="post">
	<p>DEBUGGING:  Display contents of list-of-dicts "mods":</p>
	<table width="100%" border="1">
		<thead>
			<tr>
				<th>PDB ID</th>
				<th>Model #</th>
				<th>Description</th>
			</tr>
		</thead>
		<tbody>
			{% for row in mods %}
			<tr>
				<td>{{ row['pdb'] }}</td>
				<td>{{ row['model_number'] }}</td>
				<td>{{ row['description'] }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	<p>DEBUGGING:  Display contents of list-of-dicts "pdbs":</p>
	<table width="100%" border="1">
		<caption>"Requires Translation" does not need to be exposed to the user.  Here for debugging purposes.</caption>
		<thead>
			<tr>
				<th>PDB ID</th>
				<th>Model #</th>
				<th>Chain ID</th>
				<th>Description</th>
            	<th>Requires Translation</th>
			</tr>
		</thead>
		<tbody>
			{% for row in pdbs %}
			<tr>
				<td>{{ row['pdb'] }}</td>
				<td>{{ row['model_number'] }}</td>
				<td>{{ row['chain_id'] }}</td>
				<td>{{ row['description'] }}</td>
				<td>{{ row['requires_translation'] }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
	<hr>
	<p>TESTING:  auto-generate the select list.</p>
	<select name="autopdb">
		<option value="" disabled="disabled">Choose an option...</option>
		{% for row in pdbs %}
		{% set unit = [row['pdb'],row['model_number'],row['chain_id']]|join('|') %}
		<option value="{{ unit }}">{{ unit }}: {{ row['description'] }}</option>
		{% endfor %}
	</select>
	<select name="pdbmod">
		<option value="" disabled="disabled">Choose an option...</option>
		{% for row in mods %}
		{% set pdbmod = [row['pdb'],row['model_number']]|join('|') %}
		<option value="{{ pdbmod }}">{{ pdbmod }}: {{row['description']}}</option>
		{% endfor %}
	</select>
</form>
{% endblock body %}
