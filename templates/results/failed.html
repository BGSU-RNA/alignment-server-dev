{% extends "layout.html" %}

{%- block title %}
  <title>{% block titletext %}Sequence Variation Results{% endblock titletext %}</title>
{%- endblock title %}

{% block body %}
  <h2>Query Failed</h2>
  <hr>
  <p>Reason: {{ reason }}</p>

  <h3>Query Information:</h3>
  <ul>
    <li>PDB|Model:  {{ pdb }}|{{ model }}</li>
    {%- block rangelist scoped %}
      {%- set rangeno = 0 %}
      {%- for range in ranges %}
        {%- if ( ranges[rangeno][0]['number'] == ranges[rangeno][1]['number'] ) %}
          <li>Range {{ rangeno + 1 }}:  Chain {{ ranges[rangeno][0]['chain'] }}, position {{ ranges[rangeno][0]['number'] }}</li>
        {%- else %}
          <li>Range {{ rangeno + 1 }}:  Chain {{ ranges[rangeno][0]['chain'] }}, positions {{ ranges[rangeno][0]['number'] }}-{{ ranges[rangeno][1]['number'] }}</li>
        {%- endif %}
        {%- set rangeno = rangeno + 1 %}
      {% endfor %}
    {% endblock rangelist %}
    {%- set url = request.url|replace('localhost:6767', 'rna.bgsu.edu') %}
    <li>This result set:  <a href="{{ url }}">{{ url }}</a></li>
  </ul>
  <hr>
{% endblock body %}
