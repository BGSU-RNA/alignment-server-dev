{% extends "layout.html" %}
{% block title %}
<title>{% block titletext %}Sequence Variation Results{% endblock titletext %}</title>
{% endblock title %}
{% block body %}
<h2>{{ self.titletext() }}</h2>
<p>TO DO:
	<ul>
		<li>add a summary table here.  Sequence + count; prioritize the sequence from the input PDB file (separate tbody with custom format?).</li>
		<li>consider making the header repetition interval user-selectable (an additional variable at submission time, and minor retooling)</li>
		<li>consider making the "Lineage Name" a mouseover (or similar construct) associated with the "Scientific Name" (to conserve a great deal of space per row of the table; may need the header repeats less often then)</li>
	</ul>
</p>
<hr>
<table border="1" width="100%">
	<caption>Real data from rCAD (unless run in debug mode, with two lines of sample data); header repeated every 20 rows.</caption>
	<thead>
		{% block results_header %}
		<tr>
			<th>SeqID</th>
			<th>SeqVersion</th>
			<th>CompleteFragment</th>
			<th>AccessionID</th>
		    <th>TaxID</th>
		    <th>ScientificName</th>
		    <th>LineageName</th>
		</tr>
		{% endblock results_header %}
	</thead>
	<tbody>
		{# Iterate over data.  Put another copy of results_header every n rows.
			What value of n (trying 20)? #}
		{% for row in data %}
		<tr>
			<td>{{ row['SeqID'] }}</td>
			<td>{{ row['SeqVersion'] }}</td>
			<td>{{ row['CompleteFragment'] }}</td>
			<td>{{ row['AccessionID'] }}</td>
		    <td>{{ row['TaxID'] }}</td>
		    <td>{{ row['ScientificName'] }}</td>
		    <td>{{ row['LineageName'] }}</td>
		</tr>
			{% if loop.index is divisibleby(20) %}
	</tbody>
	<tbody>
		{{ self.results_header() }}
	</tbody>
	<tbody>
			{% endif %}
		{% endfor %}
	</tbody>
	<tfoot>
		{{ self.results_header() }}
	</tfoot>
</table>
{% endblock body %}
